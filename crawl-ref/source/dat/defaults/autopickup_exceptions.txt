ae := autopickup_exceptions

#### inclusions ###

# Autopickup runes by default.
ae = <rune of Zot

# curare is always dangerous on the floor, so you may wish to always pick
# it up.  Disabled by default.
# ae = <curare-tipped

### exclusions ###

# Exclude items useless in general or for your current character (such as
# inedible food or armour you can't wear).
ae += useless_item

# Exclude potentially useful items of high risk, like ?torment or
# !mutation.
ae += dangerous_item

# Exclude items which your god disapproves of.
ae += forbidden

# Ignore books that you have already seen
ae += [^n]identified.*spellbook

: add_autopickup_func(function (it, name)
:         if you.god() == "Trog" then
:             if it.class(true) == "book" and not it.name():find("manual") then
:                 return true
:             end
:         end
: end)

# Don't pick up misc items when duplication doesn't help.
:add_autopickup_func(function (it, name)
:  if it.name() == "lamp of fire"
:  or it.name() == "phial of floods"
:  or it.name() == "fan of gales"
:  or it.name() == "stone of tremors"
:  or it.name() == "disc of storms"
:  or it.name() == "lantern of shadows" then
:    for inv in iter.invent_iterator:new(items.inventory()) do
:      if it.name() == inv.name() then
:        return false
:      end
:    end
:  end
:  return
:end)

# Excluding amulets as you only need one of each. (If you know the
# subtype that means you already have one of it.) Also for some rings.
# Some items may already be excluded as bad_item, e.g. inaccuracy.
ae += amulet of (inaccuracy|the gourmand|warding|regeneration)
ae += amulet of (resist .*|clarity|rage|guardian spirit|faith|stasis)
# Rings of teleportation are not redundant -- double *Tele is pretty good in
# the Abyss. Still, they're more in line with lanterns of shadow, so you can
# pick up the second one by hand.
ae += ring of (see invisible|flight|poison resistance|teleportation)
ae += ring of (invisibility|teleport control|sustain abilities)
